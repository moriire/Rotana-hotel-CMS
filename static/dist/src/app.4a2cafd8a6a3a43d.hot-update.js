"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(typeof self !== 'undefined' ? self : this)["webpackHotUpdatefrontend"]("app",{

/***/ "./src/stores/globals.js":
/*!*******************************!*\
  !*** ./src/stores/globals.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm-bundler.js\");\n/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/router */ \"./src/router/index.js\");\n/* harmony import */ var alertifyjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! alertifyjs */ \"./node_modules/alertifyjs/build/alertify.js\");\n/* harmony import */ var alertifyjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(alertifyjs__WEBPACK_IMPORTED_MODULE_3__);\n//<script>\n\n/* eslint-disable */\n\n\n //const BASE = \"http://127.0.0.1:8000\"\n\nconst BASE = \"https://rotana.pythonanywhere.com\";\n\nconst state = (0,vue__WEBPACK_IMPORTED_MODULE_1__.reactive)({\n  data: JSON.parse(localStorage.getItem(\"user\")),\n  loggedIn: localStorage.getItem(\"loggedin\"),\n  detail: {}\n}); //const config = { headers: {Authorization: `Bearer  ${ state.data.user.access_token }` }}\n\nconst logout = async function () {\n  try {\n    const res = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${BASE}/v1/rest/api/auth/logout/`); //config)\n\n    const resp = res.data;\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"loggedin\");\n    alertifyjs__WEBPACK_IMPORTED_MODULE_3___default().alert(\"loggedout\");\n    _router__WEBPACK_IMPORTED_MODULE_2__[\"default\"].push(\"/account/login\"); //location.href=\"/\";                             \n  } catch (errors) {\n    return \"errors\";\n  } //localStorage.removeItem(\"user\");\n\n};\n\nconst getProfile = async function () {\n  try {\n    const res = await axios__WEBPACK_IMPORTED_MODULE_0___default().get(`${BASE}/v1/rest/api/auth/user/`); //, config)\n    //{ headers: { Authorization: `Bearer ${ state.data.user.access_token }` }})\n\n    state.detail = res.data;\n    alertifyjs__WEBPACK_IMPORTED_MODULE_3___default().alert(\"profile created\");\n  } catch (errors) {\n    alertifyjs__WEBPACK_IMPORTED_MODULE_3___default().alert(\"logging out\"); //logout()\n  }\n};\n\nconst refreshToken = async function (refresh = state.data.refresh_token) {\n  try {\n    const res = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${BASE}/v1/rest/api/auth/token/refresh/`, {\n      refresh\n    });\n    const resp = res.data;\n    localStorage.setItem(\"user\", JSON.stringify(resp));\n    alert(\"refreshed\");\n  } catch (errors) {\n    localStorage.removeItem(\"loggedin\"), location.href = \"/account/login\";\n  }\n};\n\nconst verifyToken = async function (token = state.data.access_token) {\n  try {\n    const res = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${BASE}/v1/rest/api/auth/token/verify/`, {\n      token\n    });\n    return res.data;\n  } catch (errors) {\n    localStorage.removeItem(\"loggedin\"), location.href = \"/account/login\"; //refreshToken() \n  }\n};\n\nconst resetPassword = async function (email) {\n  try {\n    const res = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${BASE}/v1/rest/api/auth/password/reset/`, {\n      email\n    });\n    const resp = res.data;\n    alertifyjs__WEBPACK_IMPORTED_MODULE_3___default().alert(\"Password reset successful\");\n    _router__WEBPACK_IMPORTED_MODULE_2__[\"default\"].push(\"/account/confirm_password\");\n  } catch (errors) {\n    alertifyjs__WEBPACK_IMPORTED_MODULE_3___default().alert(errors);\n    $errors.code = errors.response.status;\n    $errors.message = \"Username or password error\";\n  }\n};\n\nconst login = async function (username, password) {\n  try {\n    const res = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${BASE}/v1/rest/api/auth/login/`, {\n      username,\n      password\n    });\n    const resp = res.data;\n    localStorage.setItem(\"user\", JSON.stringify(resp));\n    localStorage.setItem(\"loggedin\", true), alertifyjs__WEBPACK_IMPORTED_MODULE_3___default().success(\"loggedin\");\n    location.href = \"/\";\n  } catch (errors) {\n    alertifyjs__WEBPACK_IMPORTED_MODULE_3___default().alert(errors);\n  }\n};\n/*\r\nconst logout = async function(){\r\n\ttry {\r\n\t\tconst res = await axios.post(`${BASE}/v1/rest/api/auth/logout/`, config)\r\n\tconst resp = res.data\r\n\tlocalStorage.removeItem(\"user\");\r\n\tlocalStorage.removeItem(\"loggedin\");\r\n\talertify.alert(\"loggedout\")\r\n\t//router.push(\"/account/login\")\r\n\tlocation.href=\"/\";\r\n\t} catch(errors) {\r\n\t\treturn \"errors\"\r\n\t}\r\n\tlocalStorage.removeItem(\"user\");\r\n\r\n};\r\n*/\n\n\nconst register = async function (kw) {\n  try {\n    const res = await axios__WEBPACK_IMPORTED_MODULE_0___default().post(`${BASE}/v1/rest/api/auth/signup/`, kw);\n    alertifyjs__WEBPACK_IMPORTED_MODULE_3___default().alert(res.data.data);\n  } catch (errors) {\n    alertifyjs__WEBPACK_IMPORTED_MODULE_3___default().alert(JSON.stringify(errors.response));\n  }\n};\n\nconst auth = (0,vue__WEBPACK_IMPORTED_MODULE_1__.computed)(() => state.data);\n\nconst authRequired = function () {\n  if (!isAuthenticated) {\n    $router.push(`${BASE}/account/login`);\n  }\n};\n\nconsole.log(JSON.stringify(state.data));\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  state,\n  //: readonly(state),\n  resetPassword,\n  login,\n  register,\n  logout,\n  //config,\n  auth,\n  verifyToken,\n  refreshToken,\n  BASE,\n  getProfile\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RvcmVzL2dsb2JhbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUhBOztBQVNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOztBQUdBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL3N0b3Jlcy9nbG9iYWxzLmpzP2I1YzUiXSwic291cmNlc0NvbnRlbnQiOlsiLy88c2NyaXB0PlxyXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xyXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XHJcbmltcG9ydCB7IHJlYWN0aXZlLCBjb21wdXRlZCwgcmVhZG9ubHkgfSBmcm9tIFwidnVlXCI7XHJcbmltcG9ydCByb3V0ZXIgZnJvbSBcIkAvcm91dGVyXCI7XHJcbi8vY29uc3QgQkFTRSA9IFwiaHR0cDovLzEyNy4wLjAuMTo4MDAwXCJcclxuY29uc3QgQkFTRSA9IFwiaHR0cHM6Ly9yb3RhbmEucHl0aG9uYW55d2hlcmUuY29tXCJcclxuXHJcbmltcG9ydCBhbGVydGlmeSBmcm9tIFwiYWxlcnRpZnlqc1wiXHJcblxyXG5jb25zdCBzdGF0ZSA9IHJlYWN0aXZlKFxyXG5cdHtcclxuXHRcdGRhdGEgOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlclwiKSksXHJcblx0XHRsb2dnZWRJbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsb2dnZWRpblwiKSxcclxuXHRcdGRldGFpbDoge30sXHJcblx0fVxyXG5cdCk7XHJcblxyXG4vL2NvbnN0IGNvbmZpZyA9IHsgaGVhZGVyczoge0F1dGhvcml6YXRpb246IGBCZWFyZXIgICR7IHN0YXRlLmRhdGEudXNlci5hY2Nlc3NfdG9rZW4gfWAgfX1cclxuXHJcbmNvbnN0IGxvZ291dCA9IGFzeW5jIGZ1bmN0aW9uKCl7XHJcblx0XHR0cnkge1xyXG5cdFx0Y29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdChgJHtCQVNFfS92MS9yZXN0L2FwaS9hdXRoL2xvZ291dC9gLCApLy9jb25maWcpXHJcblx0XHRcdGNvbnN0IHJlc3AgPSByZXMuZGF0YSBcclxuXHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ1c2VyXCIpO1xyXG5cdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImxvZ2dlZGluXCIpO1xyXG5cdFx0XHRhbGVydGlmeS5hbGVydChcImxvZ2dlZG91dFwiKTtcclxuXHRcdFx0cm91dGVyLnB1c2goXCIvYWNjb3VudC9sb2dpblwiKTsgICAgICAgICAgICAgICAgLy9sb2NhdGlvbi5ocmVmPVwiL1wiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0XHR9IGNhdGNoKGVycm9ycykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3JzXCIgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy9sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJcIik7XHJcblxyXG59O1xyXG5cdGNvbnN0IGdldFByb2ZpbGUgPSBhc3luYyBmdW5jdGlvbigpIHtcclxuXHRcdHRyeSB7XHJcblx0XHRjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYCR7QkFTRX0vdjEvcmVzdC9hcGkvYXV0aC91c2VyL2ApLy8sIGNvbmZpZylcclxuXHRcdFx0Ly97IGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAkeyBzdGF0ZS5kYXRhLnVzZXIuYWNjZXNzX3Rva2VuIH1gIH19KVxyXG5cdFx0XHRzdGF0ZS5kZXRhaWw9IHJlcy5kYXRhO1xyXG5cdGFsZXJ0aWZ5LmFsZXJ0KFwicHJvZmlsZSBjcmVhdGVkXCIpO1xyXG5cdFx0fSBjYXRjaChlcnJvcnMpIHtcclxuXHRcdFx0YWxlcnRpZnkuYWxlcnQoXCJsb2dnaW5nIG91dFwiKTtcclxuXHRcdFx0Ly9sb2dvdXQoKVxyXG5cdFx0fVxyXG5cdH1cclxuXHRjb25zdCByZWZyZXNoVG9rZW4gPSBhc3luYyBmdW5jdGlvbihyZWZyZXNoID0gc3RhdGUuZGF0YS5yZWZyZXNoX3Rva2VuKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCByZXMgPSBhd2FpdCBheGlvcy5wb3N0KGAke0JBU0V9L3YxL3Jlc3QvYXBpL2F1dGgvdG9rZW4vcmVmcmVzaC9gLCB7IHJlZnJlc2ggfSwgKTtcclxuXHRcdFx0Y29uc3QgcmVzcCA9IHJlcy5kYXRhO1xyXG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIiwgSlNPTi5zdHJpbmdpZnkocmVzcCkpO1xyXG5cdFx0XHRhbGVydChcInJlZnJlc2hlZFwiKVxyXG5cdFx0fSBjYXRjaChlcnJvcnMpIHtcclxuXHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJsb2dnZWRpblwiKSxcclxuXHRcdFx0bG9jYXRpb24uaHJlZj1cIi9hY2NvdW50L2xvZ2luXCJcclxuXHRcdH1cclxuXHR9O1xyXG5jb25zdCB2ZXJpZnlUb2tlbiA9IGFzeW5jIGZ1bmN0aW9uKHRva2VuID0gc3RhdGUuZGF0YS5hY2Nlc3NfdG9rZW4pe1xyXG5cdHRyeSB7XHJcblx0Y29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdChgJHtCQVNFfS92MS9yZXN0L2FwaS9hdXRoL3Rva2VuL3ZlcmlmeS9gLCB7dG9rZW59KVxyXG5cdHJldHVybiByZXMuZGF0YVxyXG5cdH0gY2F0Y2goZXJyb3JzKSB7XHJcblx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJsb2dnZWRpblwiKSxcclxuXHRsb2NhdGlvbi5ocmVmPVwiL2FjY291bnQvbG9naW5cIlxyXG5cdFx0Ly9yZWZyZXNoVG9rZW4oKSBcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCByZXNldFBhc3N3b3JkID0gYXN5bmMgZnVuY3Rpb24oZW1haWwpIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QkFTRX0vdjEvcmVzdC9hcGkvYXV0aC9wYXNzd29yZC9yZXNldC9gLCB7IGVtYWlsIH0pO1xyXG5cdFx0XHRjb25zdCByZXNwID0gcmVzLmRhdGFcclxuXHRcdFx0YWxlcnRpZnkuYWxlcnQoXCJQYXNzd29yZCByZXNldCBzdWNjZXNzZnVsXCIpXHJcblx0XHRcdHJvdXRlci5wdXNoKFwiL2FjY291bnQvY29uZmlybV9wYXNzd29yZFwiKVxyXG5cdFx0fSBjYXRjaChlcnJvcnMpIHtcclxuXHRcdFx0XHRhbGVydGlmeS5hbGVydChlcnJvcnMpO1xyXG5cdFx0XHRcdCRlcnJvcnMuY29kZSA9IGVycm9ycy5yZXNwb25zZS5zdGF0dXM7XHJcblx0XHRcdFx0JGVycm9ycy5tZXNzYWdlPSBcIlVzZXJuYW1lIG9yIHBhc3N3b3JkIGVycm9yXCJcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuY29uc3QgbG9naW4gPSBhc3luYyBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QkFTRX0vdjEvcmVzdC9hcGkvYXV0aC9sb2dpbi9gLCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9LCk7XHJcblx0XHRcdGNvbnN0IHJlc3AgPSByZXMuZGF0YVxyXG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIiwgSlNPTi5zdHJpbmdpZnkocmVzcCkpO1xyXG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImxvZ2dlZGluXCIsIHRydWUpLFxyXG5cdFx0XHRhbGVydGlmeS5zdWNjZXNzKFwibG9nZ2VkaW5cIilcclxuXHRcdFx0bG9jYXRpb24uaHJlZj1cIi9cIlxyXG5cdFx0fSBjYXRjaChlcnJvcnMpIHtcclxuXHRcdGFsZXJ0aWZ5LmFsZXJ0KGVycm9ycylcclxuXHRcdFx0XHR9XHJcblx0fTtcclxuLypcclxuY29uc3QgbG9nb3V0ID0gYXN5bmMgZnVuY3Rpb24oKXtcclxuXHR0cnkge1xyXG5cdFx0Y29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdChgJHtCQVNFfS92MS9yZXN0L2FwaS9hdXRoL2xvZ291dC9gLCBjb25maWcpXHJcblx0Y29uc3QgcmVzcCA9IHJlcy5kYXRhXHJcblx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ1c2VyXCIpO1xyXG5cdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwibG9nZ2VkaW5cIik7XHJcblx0YWxlcnRpZnkuYWxlcnQoXCJsb2dnZWRvdXRcIilcclxuXHQvL3JvdXRlci5wdXNoKFwiL2FjY291bnQvbG9naW5cIilcclxuXHRsb2NhdGlvbi5ocmVmPVwiL1wiO1xyXG5cdH0gY2F0Y2goZXJyb3JzKSB7XHJcblx0XHRyZXR1cm4gXCJlcnJvcnNcIlxyXG5cdH1cclxuXHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJcIik7XHJcblxyXG59O1xyXG4qL1xyXG5jb25zdCByZWdpc3RlciA9IGFzeW5jIGZ1bmN0aW9uKGt3KXtcclxuXHR0cnkge1xyXG5cdFx0Y29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdChgJHtCQVNFfS92MS9yZXN0L2FwaS9hdXRoL3NpZ251cC9gLCBrdyApXHJcblx0XHRhbGVydGlmeS5hbGVydChyZXMuZGF0YS5kYXRhKTtcclxuXHR9IGNhdGNoKGVycm9ycyl7XHJcblx0XHRhbGVydGlmeS5hbGVydChKU09OLnN0cmluZ2lmeShlcnJvcnMucmVzcG9uc2UpKTtcclxuXHR9XHJcbn07XHRcclxuXHJcbmNvbnN0IGF1dGggPSBjb21wdXRlZCgoKSA9PiBzdGF0ZS5kYXRhKTtcclxuXHJcbmNvbnN0IGF1dGhSZXF1aXJlZCA9IGZ1bmN0aW9uKCkge1xyXG5cdGlmICghIGlzQXV0aGVudGljYXRlZCkge1xyXG5cdFx0XHQkcm91dGVyLnB1c2goYCR7QkFTRX0vYWNjb3VudC9sb2dpbmApXHJcblx0XHR9XHJcblx0fTtcclxuY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoc3RhdGUuZGF0YSkpXHJcbiBleHBvcnQgZGVmYXVsdCB7IHN0YXRlLFxyXG5cdCAvLzogcmVhZG9ubHkoc3RhdGUpLFxyXG5cdCBcdFx0XHQgcmVzZXRQYXNzd29yZCxcclxuXHRcdFx0XHQgbG9naW4sIFxyXG5cdFx0XHRcdCByZWdpc3RlcixcclxuXHQgXHRcdFx0IGxvZ291dCxcclxuICAgLy9jb25maWcsXHJcbiAgIGF1dGgsXHJcblx0IHZlcmlmeVRva2VuLFxyXG5cdCByZWZyZXNoVG9rZW4sXHJcblx0IFx0XHRcdCBCQVNFLFxyXG4gZ2V0UHJvZmlsZVxyXG4gfVxyXG5cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/stores/globals.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ !function() {
/******/ 	__webpack_require__.h = function() { return "c03e6d18dbc01f23"; }
/******/ }();
/******/ 
/******/ }
);